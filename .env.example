# =============================================================================
# MIKROTIK BILLING SYSTEM - ENVIRONMENT CONFIGURATION
# =============================================================================

# Application Configuration
NODE_ENV=development
PORT=3000
HOST=0.0.0.0
COMPANY_NAME=Mikrotik Billing System

# Security Configuration (REQUIRED - CHANGE THESE IN PRODUCTION)
JWT_SECRET=your-super-secure-jwt-secret-key-minimum-32-characters-long
SESSION_SECRET=your-super-secure-session-secret-key-minimum-32-characters-long

# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=mikrotik_billing
DB_USER=postgres
DB_PASSWORD=your-database-password

# Database Pool Configuration
DB_POOL_MAX=50
DB_POOL_MIN=5
DB_CONNECTION_TIMEOUT=10000
DB_STATEMENT_TIMEOUT=30000

# Read Replica Configuration (Optional)
DB_READ_REPLICA_HOST=localhost
DB_READ_REPLICA_PORT=5432
DB_READ_REPLICA_NAME=mikrotik_billing
DB_READ_REPLICA_USER=postgres
DB_READ_REPLICA_PASSWORD=your-database-password
DB_REPLICA_POOL_MAX=30

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
REDIS_KEY_PREFIX=mikrotik_billing:

# Redis Cluster Configuration (Optional)
REDIS_CLUSTER=false
REDIS_CLUSTER_NODES=localhost:6379,localhost:6380,localhost:6381

# Redis Sentinel Configuration (Optional)
REDIS_SENTINEL=false
REDIS_SENTINELS=localhost:26379,localhost:26380,localhost:26381
REDIS_SENTINEL_NAME=mymaster

# Logging Configuration
LOG_LEVEL=info
LOG_DIRECTORY=./logs
LOG_MAX_FILE_SIZE=10MB
LOG_MAX_FILES=10
LOG_ENABLE_CONSOLE=true
LOG_ENABLE_FILE=true

# Session Configuration
SESSION_TIMEOUT=2592000
MAX_SESSIONS_PER_USER=5

# Worker Thread Configuration
WORKER_MAX_WORKERS=4
WORKER_TIMEOUT=30000

# Queue Configuration
QUEUE_CONCURRENCY_DEFAULT=1
QUEUE_MAX_RETRIES=3
QUEUE_RETRY_DELAY=5000

# Monitoring Configuration
METRICS_INTERVAL=60000
HEALTH_CHECK_INTERVAL=30000
ALERT_CPU_THRESHOLD=80
ALERT_MEMORY_THRESHOLD=85
ALERT_DISK_THRESHOLD=90
ALERT_RESPONSE_TIME_THRESHOLD=5000

# Mikrotik Configuration
MIKROTIK_HOST=192.168.88.1
MIKROTIK_PORT=8728
MIKROTIK_USERNAME=admin
MIKROTIK_PASSWORD=your-mikrotik-password
MIKROTIK_USE_SSL=false
MIKROTIK_CONNECTION_TIMEOUT=10000

# WhatsApp Configuration
WHATSAPP_WEB_SESSION_PATH=./src/.whatsapp-sessions
WHATSAPP_RATE_LIMIT=1000

# Email Configuration (Optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# Payment Gateway Configuration
# DuitKu Configuration
DUITKU_API_URL=https://api.duitku.com
DUITKU_API_KEY=your-duitku-api-key
DUITKU_MERCHANT_CODE=your-merchant-code
DUITKU_CALLBACK_URL=http://localhost:3000/api/payments/duitku/callback

# File Upload Configuration
UPLOAD_MAX_FILE_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf
UPLOAD_DIRECTORY=./uploads

# Backup Configuration
BACKUP_DIRECTORY=./backups
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION=false
BACKUP_ENCRYPTION_KEY=your-backup-encryption-key

# CORS Configuration
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# Rate Limiting Configuration
RATE_LIMIT_GLOBAL_MAX=1000
RATE_LIMIT_LOGIN_MAX=5
RATE_LIMIT_API_MAX=100
RATE_LIMIT_UPLOAD_MAX=10

# SSL/TLS Configuration (for production)
SSL_CERT_PATH=/etc/ssl/certs/cert.pem
SSL_KEY_PATH=/etc/ssl/private/key.pem
SSL_CA_PATH=/etc/ssl/certs/ca.pem

# Monitoring & Alerting (Optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
TELEGRAM_CHAT_ID=your-telegram-chat-id

# External Service URLs
FRONTEND_URL=http://localhost:3000
API_BASE_URL=http://localhost:3000/api
WEBHOOK_BASE_URL=http://localhost:3000/api/webhook

# Development Configuration
DEV_SEED_DATA=true
DEV_LOG_SQL=false
DEV_ENABLE_CORS=true
DEV_TRUST_PROXY=false

# Production Configuration
PROD_LOG_LEVEL=warn
PROD_ENABLE_COMPRESSION=true
PROD_TRUST_PROXY=true
PROD_ENABLE_RATE_LIMITING=true
PROD_ENABLE_SECURITY_HEADERS=true

# Feature Flags
ENABLE_WHATSAPP=true
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_PUSH_NOTIFICATIONS=false
ENABLE_ANALYTICS=false
ENABLE_DEBUG_MODE=false

# Cache Configuration
CACHE_DEFAULT_TTL=300
CACHE_SESSION_TTL=1800
CACHE_USER_TTL=600
CACHE_CONFIG_TTL=3600

# Performance Configuration
COMPRESSION_LEVEL=6
REQUEST_TIMEOUT=30000
RESPONSE_TIMEOUT=30000

# Testing Configuration
TEST_DB_HOST=localhost
TEST_DB_PORT=5432
TEST_DB_NAME=mikrotik_billing_test
TEST_DB_USER=postgres
TEST_DB_PASSWORD=test
TEST_REDIS_HOST=localhost
TEST_REDIS_PORT=6379
TEST_REDIS_DB=1

# Security Advanced Configuration
COOKIE_SIGNED=true
COOKIE_SECURE=false
COOKIE_SAME_SITE=lax
CSRF_PROTECTION=true
ENABLE_HELMET=true
FRAMEGUARD_ACTION=DENY

# Plugin System Configuration
PLUGIN_DIRECTORY=./src/plugins
PLUGIN_AUTO_LOAD=true
PLUGIN_SANDBOX=true

# API Configuration
API_VERSION=v1
API_RATE_LIMIT_PER_MINUTE=100
API_REQUEST_TIMEOUT=30000
API_ENABLE_DOCS=true
API_ENABLE_PLAYGROUND=false

# Database Advanced Configuration
DB_ENABLE_SSL=false
DB_SSL_REJECT_UNAUTHORIZED=true
DB_SSL_CA_CERT=
DB_SSL_CLIENT_CERT=
DB_SSL_CLIENT_KEY=

# Mikrotik Advanced Configuration
MIKROTIK_MAX_CONNECTIONS=10
MIKROTIK_CONNECTION_TIMEOUT=10000
MIKROTIK_COMMAND_TIMEOUT=30000
MIKROTIK_RETRY_ATTEMPTS=3
MIKROTIK_RETRY_DELAY=1000

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_CRITICAL_SERVICES=database,cache
HEALTH_CHECK_WARNING_SERVICES=mikrotik,whatsapp

# Metrics and Observability
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9464
PROMETHEUS_ENDPOINT=/metrics

# Graceful Shutdown Configuration
GRACEFUL_SHUTDOWN_TIMEOUT=30000
FORCE_SHUTDOWN_TIMEOUT=60000

# Error Reporting Configuration
ERROR_REPORTING_ENABLED=false
ERROR_REPORTING_SERVICE=sentry
SENTRY_DSN=your-sentry-dsn

# Localization Configuration
DEFAULT_LANGUAGE=id
DEFAULT_TIMEZONE=Asia/Jakarta
DEFAULT_CURRENCY=IDR
DEFAULT_DATE_FORMAT=DD/MM/YYYY